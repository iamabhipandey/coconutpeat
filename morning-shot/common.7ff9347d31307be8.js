"use strict";(self.webpackChunkmorning_shot=self.webpackChunkmorning_shot||[]).push([[2076],{5760:(E,h,e)=>{e.d(h,{R:()=>i});var u=e(5351),s=e(9417),c=e(8032),p=e.n(c),t=e(4438),f=e(1188),v=e(7513),g=e(2951),_=e(177);const l=["fileInput"];function a(m,O){if(1&m){const o=t.RV6();t.j41(0,"div",40),t.nrm(1,"img",41),t.j41(2,"button",42),t.bIt("click",function(){const n=t.eBV(o).index,d=t.XpG();return t.Njj(d.removeImage(n))}),t.k0s()()}if(2&m){const o=O.$implicit;t.R7$(),t.Y8G("src",o,t.B4B)}}let i=(()=>{class m{constructor(o,r,n,d,P,I){this.router=o,this.fb=r,this.dialogRef=n,this.commonService=d,this.dataFactory=P,this.data=I,this.loggedUserId="",this.images=[],this.productId=this.data.productId,this.loggedUserData=this.dataFactory.getCurrentUser(),this.loggedUserData&&(this.loggedUserId=this.loggedUserData.userProfileId,this.currentLoggedUserId=this.loggedUserId),this.getAllProductDataByID(this.productId),this.reviewForm=this.fb.group({rating:new s.MJ("",[s.k0.required]),comment:new s.MJ("",[s.k0.required])})}getAllProductDataByID(o){this.commonService.getAllActiveProductById(o).subscribe({next:r=>{"true"===r.status&&(this.productData=r.data)},error:r=>{console.error("Error while fetching similar product data:",r)}})}addReviews(){const o=new FormData;o.append("rating",this.reviewForm.get("rating")?.value??""),o.append("comment",this.reviewForm.get("comment")?.value??""),o.append("productId",this.productId),o.append("userId",this.currentLoggedUserId),this.commonService.addReview(o).subscribe({next:r=>{"true"===r.status?(p().fire({title:"",text:`${r.message}`,icon:"success",confirmButtonColor:"#0E82FD"}),this.close()):(p().fire({title:`${r.message}`,text:"",icon:"error",confirmButtonColor:"#0E82FD"}),this.close())},error:r=>{alert("Something went wrong while submitting"),console.error(r),this.close()}})}close(){this.dialogRef.close()}triggerFileInput(){this.fileInput.nativeElement.click()}onFileSelected(o){const r=o.target;if(r.files&&r.files[0]){const n=new FileReader;n.onload=()=>{this.images.push(n.result)},n.readAsDataURL(r.files[0]),r.value=""}}removeImage(o){this.images.splice(o,1)}static{this.\u0275fac=function(r){return new(r||m)(t.rXU(f.Ix),t.rXU(s.ok),t.rXU(u.CP),t.rXU(v.h),t.rXU(g.Q),t.rXU(u.Vh))}}static{this.\u0275cmp=t.VBU({type:m,selectors:[["app-write-review"]],viewQuery:function(r,n){if(1&r&&t.GBs(l,5),2&r){let d;t.mGM(d=t.lsd())&&(n.fileInput=d.first)}},decls:53,vars:4,consts:[["fileInput",""],["tabindex","-1",1,"modal","fade","show","custom-modal",2,"display","block"],[1,"modal-dialog","modal-dialog-slide","modal-dialog-scrollable"],[1,"modal-content","shadow"],[1,"modal-header"],[1,"head-text"],[3,"click"],[1,"fa-solid","fa-chevron-left"],[1,"modal-form",3,"ngSubmit","formGroup"],[1,"review-card"],[1,"product-info","d-flex","align-items-start","gap-3","p-1","border-bottom"],["alt","Product","width","75",3,"src"],[1,"product-name"],[1,"text-sec2"],[1,"rating-box"],[1,"rating-title"],[1,"star-rating"],["type","radio","name","rating","formControlName","rating","id","star5","value","5"],["for","star5"],[1,"fa","fa-star"],["type","radio","name","rating","formControlName","rating","id","star4","value","4"],["for","star4"],["type","radio","name","rating","formControlName","rating","id","star3","value","3"],["for","star3"],["type","radio","name","rating","formControlName","rating","id","star2","value","2"],["for","star2"],["type","radio","name","rating","formControlName","rating","id","star1","value","1"],["for","star1"],[1,"p-2","write-review"],["type","text","placeholder","Review Title",1,"form-control","mb-2"],["formControlName","comment","rows","4","placeholder","Review Description",1,"form-control","mb-2"],[1,"p-2","bg-light","border-top"],[1,"add-img"],[1,"d-flex","flex-wrap","gap-2"],["class","position-relative",4,"ngFor","ngForOf"],[1,"upload-box","d-flex","align-items-center","justify-content-center",3,"click"],[1,"fa","fa-plus","text-pink","fs-3"],["type","file","hidden","","accept","image/*",3,"change"],[1,"submit-btn","mt-2","text-end"],["type","submit",1,"btn","btn-primary","submit-review","w-100"],[1,"position-relative"],[1,"img-thumbnail","uploaded-img",3,"src"],["type","button",1,"btn-close","position-absolute","top-0","start-100","translate-middle",3,"click"]],template:function(r,n){if(1&r){const d=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h5",5)(5,"span",6),t.bIt("click",function(){return t.eBV(d),t.Njj(n.close())}),t.nrm(6,"i",7),t.k0s(),t.EFF(7," Write a Review "),t.k0s()(),t.j41(8,"form",8),t.bIt("ngSubmit",function(){return t.eBV(d),t.Njj(n.addReviews())}),t.j41(9,"div",9)(10,"div",10),t.nrm(11,"img",11),t.j41(12,"div")(13,"h6",12),t.EFF(14),t.k0s(),t.j41(15,"small",13),t.EFF(16,"Reduces Dark Spots | Brightens Skin"),t.k0s()()(),t.j41(17,"div",14)(18,"div",15),t.EFF(19,"Rate this Product"),t.k0s(),t.j41(20,"div",16),t.nrm(21,"input",17),t.j41(22,"label",18),t.nrm(23,"i",19),t.k0s(),t.nrm(24,"input",20),t.j41(25,"label",21),t.nrm(26,"i",19),t.k0s(),t.nrm(27,"input",22),t.j41(28,"label",23),t.nrm(29,"i",19),t.k0s(),t.nrm(30,"input",24),t.j41(31,"label",25),t.nrm(32,"i",19),t.k0s(),t.nrm(33,"input",26),t.j41(34,"label",27),t.nrm(35,"i",19),t.k0s()()(),t.j41(36,"div",28)(37,"h6"),t.EFF(38,"Write a Review"),t.k0s(),t.nrm(39,"input",29)(40,"textarea",30),t.k0s(),t.j41(41,"div",31)(42,"h6",32),t.EFF(43,"Add Images"),t.k0s(),t.j41(44,"div",33),t.DNE(45,a,3,1,"div",34),t.j41(46,"div",35),t.bIt("click",function(){return t.eBV(d),t.Njj(n.triggerFileInput())}),t.nrm(47,"i",36),t.j41(48,"input",37,0),t.bIt("change",function(I){return t.eBV(d),t.Njj(n.onFileSelected(I))}),t.k0s()()()(),t.j41(50,"div",38)(51,"button",39),t.EFF(52,"Submit"),t.k0s()()()()()()()}2&r&&(t.R7$(8),t.Y8G("formGroup",n.reviewForm),t.R7$(3),t.Y8G("src",null==n.productData?null:n.productData.productImageId,t.B4B),t.R7$(3),t.JRh(null==n.productData?null:n.productData.productName),t.R7$(31),t.Y8G("ngForOf",n.images))},dependencies:[_.Sq,s.qT,s.me,s.Fm,s.BC,s.cb,s.j4,s.JD],styles:[".review-card[_ngcontent-%COMP%]{margin:10px 0;background:#fff;overflow:auto;font-family:Segoe UI,sans-serif}.product-name[_ngcontent-%COMP%]{margin-bottom:5;font-size:15px;font-weight:500;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.text-sec2[_ngcontent-%COMP%]{overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;margin-top:5px}.star-rating[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:center;font-size:2rem}.star-rating[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}.star-rating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ccc;cursor:pointer;transition:color .2s;margin:0 5px}.star-rating[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%], .star-rating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover, .star-rating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover ~ label[_ngcontent-%COMP%]{color:#ff4081}.rating-box[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;padding:10px;max-width:400px;margin:auto}.rating-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px;text-align:center}.write-review[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:15px;margin-bottom:4px;padding-bottom:5px;border-bottom:1px dot gray}.add-img[_ngcontent-%COMP%]{font-weight:600!important;font-size:16px;padding-bottom:10px}.upload-box[_ngcontent-%COMP%]{width:75px;height:75px;border:2px dashed #e83e8c;cursor:pointer;border-radius:.5rem;position:relative;transition:.3s}.upload-box[_ngcontent-%COMP%]:hover{background-color:#fce4ec}.uploaded-img[_ngcontent-%COMP%]{width:75px;height:75px;object-fit:cover;border-radius:.5rem}"]})}}return m})()},1116:(E,h,e)=>{e.d(h,{D:()=>v});var u=e(4412),s=e(5312),c=e(4438),p=e(1626),t=e(2951),f=e(639);let v=(()=>{class g{constructor(l,a,i){this.http=l,this.dataFactoryService=a,this.dataService=i,this.API_URL=s.c.apiUrl,this.token=null,this.userLogin=!1,this.userEmail="",this.userType="",this.userProfileId=0,this.userLoginSubject=new u.t(!1),this.userLogin$=this.userLoginSubject.asObservable()}getUserProfileById(l){return this.http.post(`${this.API_URL}/user-profile/get-user-profile-by-id`,l)}getAllUserProfile(){return this.http.post(`${this.API_URL}/user-profile/get-all-user-profiles`,{})}saveUserProfile(l){return this.http.post(`${this.API_URL}/user-profile/save`,l)}updateUserProfile(l,a){return this.http.post(`${this.API_URL}/user-profile/update/${a}`,l)}saveGuestUserProfile(l){return this.http.post(`${this.API_URL}/user-profile/save-guest-user`,l)}saveAddress(l){return this.http.post(`${this.API_URL}/address/add`,l)}static{this.\u0275fac=function(a){return new(a||g)(c.KVO(p.Qq),c.KVO(t.Q),c.KVO(f.u))}}static{this.\u0275prov=c.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})()},4795:(E,h,e)=>{e.d(h,{u:()=>g});var u=e(8615),s=e(6354),c=e(1626),p=e(5312),t=e(4438),f=e(1188),v=e(2951);let g=(()=>{class _{constructor(a,i,m){this.router=a,this.http=i,this.dataFactoryService=m,this.API_URL=p.c.apiUrl,this.loggedUserId="",this.loggedUserEmail="",this.loggedUserType=""}userSignIn(a){return this.http.post(`${this.API_URL}/login/user-signin`,a).pipe((0,s.T)(i=>("true"===i.status&&(this.dataFactoryService.setToken(i.data.token),this.dataFactoryService.setCurrentUser(i.data),this.loggedUserType=i.data.userType,this.loggedUserEmail=i.data.email,this.loggedCurrentUser=i.data.name,this.loggedMobile=i.data.mobile,"user"===this.loggedUserType?this.loggedUserId=i.data.userProfileId:"supplier"===this.loggedUserType?this.loggedUserId=i.data.supplierId:"admin"===this.loggedUserType&&(this.loggedUserId=i.data.adminId)),i)))}userSignUp(a){return this.http.post(`${this.API_URL}/login/user-signup`,a)}googleSignIn(a){return this.http.post(`${this.API_URL}/google`,a)}signin(){localStorage.setItem("authenticated","true"),this.router.navigate([u.J.home])}signup(){localStorage.setItem("authenticated","true"),this.router.navigate([u.J.login])}forgotpassword(){localStorage.setItem("authenticated","true"),this.router.navigate([u.J.resetPassword])}verifyOtp(a){const i=new c.Lr({"Content-Type":"application/json"});return this.http.post("https://control.msg91.com/api/v5/widget/verifyAccessToken",a,{headers:i})}static{this.\u0275fac=function(i){return new(i||_)(t.KVO(f.Ix),t.KVO(c.Qq),t.KVO(v.Q))}}static{this.\u0275prov=t.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()}}]);