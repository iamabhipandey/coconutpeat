"use strict";(self.webpackChunkmorning_shot=self.webpackChunkmorning_shot||[]).push([[1984],{1984:(R,m,r)=>{r.r(m),r.d(m,{LoginModule:()=>O});var c=r(177),a=r(1188),n=r(9417),g=r(8615),p=r(8032),f=r.n(p),t=r(4438),v=r(4795),h=r(7513);const d=i=>({"is-invalid":i});function _(i,l){1&i&&(t.j41(0,"div"),t.EFF(1,"Email is required."),t.k0s())}function b(i,l){1&i&&(t.j41(0,"div"),t.EFF(1,"Please enter valid email."),t.k0s())}function C(i,l){if(1&i&&(t.j41(0,"div",27),t.DNE(1,_,2,0,"div",13)(2,b,2,0,"div",13),t.k0s()),2&i){const o=t.XpG(2);t.R7$(),t.Y8G("ngIf",null==o.f.email.errors?null:o.f.email.errors.required),t.R7$(),t.Y8G("ngIf",null==o.f.email.errors?null:o.f.email.errors.email)}}function k(i,l){1&i&&(t.j41(0,"div"),t.EFF(1,"Password is required."),t.k0s())}function x(i,l){if(1&i&&(t.j41(0,"div",28),t.DNE(1,k,2,0,"div",13),t.k0s()),2&i){const o=t.XpG(2);t.R7$(),t.Y8G("ngIf",null==o.f.password.errors?null:o.f.password.errors.required)}}function F(i,l){if(1&i){const o=t.RV6();t.j41(0,"div")(1,"div",17)(2,"label"),t.EFF(3,"Email "),t.j41(4,"span",18),t.EFF(5,"*"),t.k0s()(),t.nrm(6,"input",19),t.DNE(7,C,3,2,"div",20),t.k0s(),t.j41(8,"div",17)(9,"label"),t.EFF(10,"Password "),t.j41(11,"span",18),t.EFF(12,"*"),t.k0s()(),t.j41(13,"div",21),t.nrm(14,"input",22),t.j41(15,"span",23),t.bIt("click",function(){t.eBV(o);const s=t.XpG();return t.Njj(s.togglePassword())}),t.nrm(16,"i",24),t.k0s()(),t.DNE(17,x,2,1,"div",25),t.k0s(),t.j41(18,"div",17)(19,"a",26),t.EFF(20,"Forgot Password ?"),t.k0s()()()}if(2&i){const o=t.XpG();t.R7$(6),t.Y8G("ngClass",t.eq3(7,d,o.f.email.touched&&o.f.email.invalid)),t.R7$(),t.Y8G("ngIf",o.f.email.touched&&o.f.email.invalid),t.R7$(7),t.Y8G("type",o.show_password?"password":"text")("ngClass",t.eq3(9,d,o.f.password.touched&&o.f.password.invalid)),t.R7$(2),t.Y8G("ngClass",o.show_password?"fas fa-eye-slash":"fas fa-eye"),t.R7$(),t.Y8G("ngIf",o.f.password.touched&&o.f.password.invalid),t.R7$(2),t.Y8G("routerLink",o.routes.forgotPassword)}}function w(i,l){1&i&&(t.j41(0,"div"),t.EFF(1,"Mobile number is required."),t.k0s())}function E(i,l){1&i&&(t.j41(0,"div"),t.EFF(1,"Enter a valid 10-digit mobile number."),t.k0s())}function j(i,l){if(1&i&&(t.j41(0,"div",28),t.DNE(1,w,2,0,"div",13)(2,E,2,0,"div",13),t.k0s()),2&i){const o=t.XpG(2);t.R7$(),t.Y8G("ngIf",null==o.f.mobileNo.errors?null:o.f.mobileNo.errors.required),t.R7$(),t.Y8G("ngIf",null==o.f.mobileNo.errors?null:o.f.mobileNo.errors.pattern)}}function G(i,l){1&i&&(t.j41(0,"div"),t.EFF(1,"OTP is required."),t.k0s())}function N(i,l){if(1&i&&(t.j41(0,"div",28),t.DNE(1,G,2,0,"div",13),t.k0s()),2&i){const o=t.XpG(3);t.R7$(),t.Y8G("ngIf",null==o.f.otp.errors?null:o.f.otp.errors.required)}}function L(i,l){if(1&i&&(t.j41(0,"div",17)(1,"label"),t.EFF(2,"Enter OTP "),t.j41(3,"span",18),t.EFF(4,"*"),t.k0s()(),t.nrm(5,"input",33),t.DNE(6,N,2,1,"div",25),t.k0s()),2&i){const o=t.XpG(2);t.R7$(5),t.Y8G("ngClass",t.eq3(2,d,o.f.otp.touched&&o.f.otp.invalid)),t.R7$(),t.Y8G("ngIf",o.f.otp.touched&&o.f.otp.invalid)}}function I(i,l){if(1&i){const o=t.RV6();t.j41(0,"div")(1,"div",17)(2,"label"),t.EFF(3,"Mobile Number "),t.j41(4,"span",18),t.EFF(5,"*"),t.k0s()(),t.j41(6,"div",29),t.nrm(7,"input",30),t.j41(8,"button",31),t.bIt("click",function(){t.eBV(o);const s=t.XpG();return t.Njj(s.sendOtp())}),t.EFF(9,"Get OTP"),t.k0s()(),t.DNE(10,j,3,2,"div",25),t.k0s(),t.DNE(11,L,7,4,"div",32),t.k0s()}if(2&i){const o=t.XpG();t.R7$(7),t.Y8G("ngClass",t.eq3(3,d,o.f.mobileNo.touched&&o.f.mobileNo.invalid)),t.R7$(3),t.Y8G("ngIf",o.f.mobileNo.touched&&o.f.mobileNo.invalid),t.R7$(),t.Y8G("ngIf",o.otpSent)}}const T=[{path:"",component:(()=>{class i{get f(){return this.form.controls}constructor(o,e,s,u){this.auth=o,this.commonService=e,this.router=s,this.route=u,this.routes=g.J,this.show_password=!0,this.loginWithOtp=!1,this.otpSent=!1,this.returnUrl="",this.form=new n.gE({email:new n.MJ("",[n.k0.email,n.k0.required]),password:new n.MJ("",[n.k0.required]),mobileNo:new n.MJ("",[n.k0.required,n.k0.pattern(/^[0-9]{10}$/)]),otp:new n.MJ("",[n.k0.required])}),this.loginData=[]}signin(){if(this.loginWithOtp){if(this.form.controls.mobileNo.invalid)return void this.form.controls.mobileNo.markAsTouched();if(this.otpSent&&this.form.controls.otp.invalid)return void this.form.controls.otp.markAsTouched();console.log("OTP Login Success \u2705",this.form.value)}else this.form.valid&&this.auth.signin()}togglePassword(){this.show_password=!this.show_password}sendOtp(){this.form.controls.mobileNo.valid?(this.otpSent=!0,console.log("OTP sent to:",this.form.controls.mobileNo.value)):this.form.controls.mobileNo.markAsTouched()}ngOnInit(){this.route.queryParams.subscribe(o=>{this.returnUrl=o.returnUrl||""})}login(){const o=new FormData;o.append("email",this.form.get("email")?.value??""),o.append("password",this.form.get("password")?.value??""),this.auth.userSignIn(o).subscribe({next:e=>{"true"===e.status&&(this.loginData=e.data,this.commonService.setUserLoggedIn(),f().fire({title:"Success",text:`${e.message}`,icon:"success",confirmButtonColor:"#0E82FD"}).then(s=>{s.isConfirmed&&(this.returnUrl?this.router.navigateByUrl(this.returnUrl):this.router.navigate([this.routes.listingGrid]))}))},error:e=>{f().fire({title:"Error",text:"Login failed. Wrong credentials!",icon:"error",confirmButtonColor:"#0E82FD"}),this.commonService.logout()}})}static{this.\u0275fac=function(e){return new(e||i)(t.rXU(v.u),t.rXU(h.h),t.rXU(a.Ix),t.rXU(a.nX))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-login"]],decls:23,vars:4,consts:[[1,"login-wrapper","why-choose"],[1,"choose-left"],["src","assets/img/bg/choose-left.png","alt","Why Choose Us",1,"img-fluid"],[1,"container"],[1,"row"],[1,"col-md-6","col-lg-6","col-xl-7","hide-for-mobile"],[1,"visual-section"],["src","assets/img/bg/log-in.webp","alt","Access Card",1,"img-fluid"],[1,"col-11","col-sm-10","col-md-6","col-lg-5","col-xl-4","form-sec"],[1,"loginbox"],[1,"login-auth"],[1,"login-auth-wrap"],[3,"ngSubmit","formGroup"],[4,"ngIf"],["type","submit",1,"btn","btn-outline-light","w-100","btn-size","mt-1"],[1,"text-center","dont-have"],[3,"routerLink"],[1,"input-block"],[1,"text-danger"],["type","email","formControlName","email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"position-relative"],["placeholder","Enter your password","formControlName","password",1,"form-control","pe-5",3,"type","ngClass"],[1,"position-absolute","top-50","end-0","translate-middle-y","me-3",2,"cursor","pointer",3,"click"],[3,"ngClass"],["class","invalid-feedback d-block",4,"ngIf"],[1,"forgot-link",3,"routerLink"],[1,"invalid-feedback"],[1,"invalid-feedback","d-block"],[1,"input-group"],["type","text","maxlength","10","placeholder","Enter 10 digit mobile number","formControlName","mobileNo",1,"form-control",3,"ngClass"],["type","button",1,"btn","btn-primary",3,"click"],["class","input-block",4,"ngIf"],["type","text","maxlength","6","placeholder","Enter OTP","formControlName","otp",1,"form-control",3,"ngClass"]],template:function(e,s){1&e&&(t.j41(0,"div",0)(1,"div",1),t.nrm(2,"img",2),t.k0s(),t.j41(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t.nrm(7,"img",7),t.k0s()(),t.j41(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"h1"),t.EFF(13,"Sign In"),t.k0s(),t.j41(14,"form",12),t.bIt("ngSubmit",function(){return s.login()}),t.DNE(15,F,21,11,"div",13)(16,I,12,5,"div",13),t.j41(17,"button",14),t.EFF(18,"Sign In"),t.k0s(),t.j41(19,"div",15),t.EFF(20," Don't have an account yet? "),t.j41(21,"a",16),t.EFF(22,"Register"),t.k0s()()()()()()()()()()),2&e&&(t.R7$(14),t.Y8G("formGroup",s.form),t.R7$(),t.Y8G("ngIf",!s.loginWithOtp),t.R7$(),t.Y8G("ngIf",s.loginWithOtp),t.R7$(5),t.Y8G("routerLink",s.routes.register))},dependencies:[c.YU,c.bT,a.Wk,n.qT,n.me,n.BC,n.cb,n.tU,n.j4,n.JD],styles:[".form-sec[_ngcontent-%COMP%]{margin:auto}.login-wrapper[_ngcontent-%COMP%]   .loginbox[_ngcontent-%COMP%]   .login-auth[_ngcontent-%COMP%]{background:#fff;box-shadow:#2e84da33 0 8px 24px}.visual-section[_ngcontent-%COMP%]{flex:1;display:flex;height:100%;flex-direction:column;align-items:center;justify-content:center;text-align:center;position:relative}.visual-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:500px;min-width:425px}@media screen and (max-width: 767px){.hide-for-mobile[_ngcontent-%COMP%]{display:none!important}.container[_ngcontent-%COMP%]{padding:0}.login-wrapper[_ngcontent-%COMP%]   .loginbox[_ngcontent-%COMP%]   .login-auth[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:20px}}"]})}}return i})()}];let y=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[a.iI.forChild(T),a.iI]})}}return i})();var P=r(2857);let O=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[c.MD,y,P.G]})}}return i})()}}]);